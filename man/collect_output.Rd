% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/collect_output.R
\name{collect_output}
\alias{collect_output}
\title{Collect RHESSys run outputs}
\usage{
collect_output(
  source_dir = "./",
  basename = "rh_out_",
  output_dir = "output",
  out_file_basename = NULL,
  alert = T
)
}
\arguments{
\item{source_dir}{character(1). Directory where source files (params and the
output directory) live. Defaults to \"./\".}

\item{basename}{character(1). Prefix for the created timestamped folder.
Defaults to \"rh_out_\".}

\item{output_dir}{character(1). Relative path (inside source_dir) to the
directory that contains RHESSys outputs (CSV files and run metadata).
Defaults to \"output\". This directory must already exist.}

\item{out_file_basename}{character(1) or NULL. If provided, only CSV files
that start with this basename will be moved. If NULL (default), all CSV
files in output_dir are moved.}

\item{alert}{logical(1). If TRUE and CSV files are moved, calls
sim_alert() after moving CSVs. Defaults to TRUE.}
}
\value{
character(1) Path to the newly created timestamped directory
  (invisibly) where files were moved. If there were no CSVs or params the
  function still creates the timestamped folder and returns its path. The
  function is called for its side-effects (creating directories and moving
  files).
}
\description{
collect_output organizes the outputs of a RHESSys model run by creating a
unique, timestamped directory (default prefix \"rh_out_\") under the
specified output directory and moving CSV result files, any .params files,
and a single run metadata file into that directory. If multiple metadata
files matching the pattern are present, the most recent is selected.
}
\details{
- The function checks that output_dir exists; if it does not, the function
  stops with an error.

- Parameter files (pattern \"*.params\") are moved into a \"params\" folder
  inside the timestamped directory.

- Run metadata files are matched with pattern \"run_metadata_*.txt\"; if
  multiple matches are found the file with the latest timestamp inferred
  from its filename is moved.

- CSV files in the output_dir are moved into the created folder. If none
  are found a message is printed and the created directory path is returned.
}
\examples{
\dontrun{
# Collect outputs into output/rh_out_<timestamp> and do not trigger alert
collect_output(source_dir = "~/projects/my_run", basename = "run_", output_dir = "output", alert = FALSE)

# Use current working directory and default names
collect_output()
}
}
\seealso{
sim_alert
}
